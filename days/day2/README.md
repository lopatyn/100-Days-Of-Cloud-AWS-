# –î–µ–Ω—å 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –±–µ–∑–ø–µ–∫–∏ (Security Group) üõ°Ô∏è

> **Hook:** –•–æ—á–µ—à, —â–æ–± —Ç–≤–æ—ó —Å–µ—Ä–≤–µ—Ä–∏ –±—É–ª–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è —Å–≤—ñ—Ç—É, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –Ω–∞–¥—ñ–π–Ω–æ –∑–∞—Ö–∏—â–µ–Ω—ñ –≤—ñ–¥ "–Ω–µ–ø—Ä–æ—Ö–∞–Ω–∏—Ö –≥–æ—Å—Ç–µ–π"?
> **Problem-Solution-Value:** –û–¥–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —É —Ñ–∞—î—Ä–≤–æ–ª—ñ ‚Äî —ñ —Ç–≤—ñ–π —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞—î —á–∞—Å—Ç–∏–Ω–æ—é –±–æ—Ç–Ω–µ—Ç—É. –ú–∏ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î–º–æ `datacenter-sg` –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è–º —Ç—Ä–∞—Ñ—ñ–∫—É: HTTP –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ SSH –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–∞–ª–∞–Ω—Å –º—ñ–∂ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—é —Å–µ—Ä–≤—ñ—Å—É —Ç–∞ –±–µ–∑–ø–µ–∫–æ—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ Nautilus DevOps.
> **Call to Action:** –ù–∞–≤—á–∏—Å—å –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫–æ–º –Ω–∞ —Ä—ñ–≤–Ω—ñ –º—ñ–∫—Ä–æ—Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –∑–∞—Ö–∏—Å—Ç–∏ —Å–≤—ñ–π –ø–µ—Ä—à–∏–π —Ö–º–∞—Ä–Ω–∏–π –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä!

## –û–≥–ª—è–¥ (Overview)
Security Groups (SG) ‚Äî —Ü–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ —Ñ–∞—î—Ä–≤–æ–ª–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ –≤ AWS, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **Stateful**. –£ —Ü—å–æ–º—É –∑–∞–≤–¥–∞–Ω–Ω—ñ –¥–ª—è Nautilus DevOps –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –≥—Ä—É–ø—É –±–µ–∑–ø–µ–∫–∏ `datacenter-sg`, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –≤—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 80) —Ç–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (–ø–æ—Ä—Ç 22). –¶–µ –∫–ª—é—á–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∑–∞—Ö–∏—Å—Ç—É "Defense in Depth".

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è (Practical Tasks)
- [x] –°—Ç–≤–æ—Ä–∏—Ç–∏ –≥—Ä—É–ø—É –±–µ–∑–ø–µ–∫–∏ `datacenter-sg` —É Default VPC.
- [x] –î–æ–¥–∞—Ç–∏ Inbound Rule –¥–ª—è HTTP (–ø–æ—Ä—Ç 80) –∑ CIDR `0.0.0.0/0`.
- [x] –î–æ–¥–∞—Ç–∏ Inbound Rule –¥–ª—è SSH (–ø–æ—Ä—Ç 22) –∑ CIDR `0.0.0.0/0`.
- [x] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –æ–ø–∏—Å—É –≥—Ä—É–ø–∏: "Security group for Nautilus App Servers".

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è (Architecture & Implementation)
–ú–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–ª–∏ SG, —è–∫–∞ –¥—ñ—î —è–∫ –ø–µ—Ä—à–∞ –ª—ñ–Ω—ñ—è –æ–±–æ—Ä–æ–Ω–∏ –ø–µ—Ä–µ–¥ EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–æ–º.

```mermaid
graph TD
    subgraph Internet ["–ü—É–±–ª—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç"]
        AnyUser["–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á (0.0.0.0/0)"]
    end

    subgraph AWS_Cloud ["AWS VPC (Default)"]
        subgraph Security_Boundary ["–ú–µ–∂–∞ –±–µ–∑–ø–µ–∫–∏"]
            SG["Security Group: datacenter-sg"]
            Rule80["Allow HTTP (80)"]
            Rule22["Allow SSH (22)"]
        end
        Instance["Nautilus App Server (EC2)"]
    end

    AnyUser -->|Port 80| Rule80
    AnyUser -->|Port 22| Rule22
    Rule80 --> Instance
    Rule22 --> Instance

    %% –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è
    classDef security fill:#f66,stroke:#333,stroke-width:2px;
    classDef compute fill:#f96,stroke:#333,stroke-width:2px;
    class SG security
    class Instance compute
```

## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ (Key Commands - AWS CLI)
–•–æ—á–∞ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ—Å—å —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ —á–µ—Ä–µ–∑ CLI (DevOps-—à–ª—è—Ö):
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –±–µ–∑–ø–µ–∫–∏
aws ec2 create-security-group \
    --group-name datacenter-sg \
    --description "Security group for Nautilus App Servers" \
    --vpc-id vpc-xxxxxxxx

# –î–æ–¥–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è HTTP
aws ec2 authorize-security-group-ingress \
    --group-name datacenter-sg \
    --protocol tcp --port 80 --cidr 0.0.0.0/0

# –î–æ–¥–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è SSH
aws ec2 authorize-security-group-ingress \
    --group-name datacenter-sg \
    --protocol tcp --port 22 --cidr 0.0.0.0/0
```

## Insights –∑ –±–µ–∑–ø–µ–∫–∏ (Security Insights) üõ°Ô∏è
- **Stateful Nature:** SG –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–≤–æ—Ä–æ—Ç–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫. –Ø–∫—â–æ –≤—Ö—ñ–¥–Ω–∏–π –ø–∞–∫–µ—Ç –¥–æ–∑–≤–æ–ª–µ–Ω–æ, –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤–∏–π–¥–µ –Ω–∞–∑–æ–≤–Ω—ñ –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–∞–≤–∏–ª Outbound.
- **Least Privilege:** –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É 22 –¥–ª—è `0.0.0.0/0` ‚Äî —Ü–µ —Ä–∏–∑–∏–∫. –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –ª–∏—à–µ —Ç–≤–æ—ó–º IP –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **AWS Client VPN**.
- **Default Outbound:** –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º SG –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–µ—Å—å –≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ (`0.0.0.0/0`).

---
- **Deep Dive:** [–ì–ª–∏–±–æ–∫–µ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –≤ Security Groups](./DEEP_DIVE_SECURITY_GROUPS.md) üß†
- **–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:** –ì–æ—Ç—É—î–º–æ—Å—å –¥–æ Day 3! üöÄ
