# –î–µ–Ω—å 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –±–µ–∑–ø–µ–∫–∏ (Security Group) üõ°Ô∏è

> **Hook:** –•–æ—á–µ—à, —â–æ–± —Ç–≤–æ—ó —Å–µ—Ä–≤–µ—Ä–∏ –±—É–ª–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è —Å–≤—ñ—Ç—É, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –Ω–∞–¥—ñ–π–Ω–æ –∑–∞—Ö–∏—â–µ–Ω—ñ –≤—ñ–¥ "–Ω–µ–ø—Ä–æ—Ö–∞–Ω–∏—Ö –≥–æ—Å—Ç–µ–π"? üè∞‚öîÔ∏è
>
> **Problem-Solution-Value:** –û–¥–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —É —Ñ–∞—î—Ä–≤–æ–ª—ñ ‚Äî —ñ —Ç–≤—ñ–π —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞—î —á–∞—Å—Ç–∏–Ω–æ—é –±–æ—Ç–Ω–µ—Ç—É. –ú–∏ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î–º–æ `datacenter-sg` –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è–º —Ç—Ä–∞—Ñ—ñ–∫—É: HTTP –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (80) —Ç–∞ SSH –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ (22). –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–∞–ª–∞–Ω—Å –º—ñ–∂ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—é —Å–µ—Ä–≤—ñ—Å—É —Ç–∞ –±–µ–∑–ø–µ–∫–æ—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ Nautilus DevOps, –º—ñ–Ω—ñ–º—ñ–∑—É—é—á–∏ –ø–æ–≤–µ—Ä—Ö–Ω—é –∞—Ç–∞–∫–∏.
>
> **Call to Action:** –ù–∞–≤—á–∏—Å—å –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫–æ–º –Ω–∞ —Ä—ñ–≤–Ω—ñ –º—ñ–∫—Ä–æ—Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –∑–∞—Ö–∏—Å—Ç–∏ —Å–≤—ñ–π –ø–µ—Ä—à–∏–π —Ö–º–∞—Ä–Ω–∏–π –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä! –ì–∞–π–¥ –Ω–∏–∂—á–µ. üëá

## –ë—ñ–∑–Ω–µ—Å —Ç–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:
Security Groups ‚Äî —Ü–µ –ø–µ—Ä—à–∞ –ª—ñ–Ω—ñ—è –æ–±–æ—Ä–æ–Ω–∏ –≤ —Ö–º–∞—Ä—ñ. –î–ª—è –±—ñ–∑–Ω–µ—Å—É —Ü–µ –æ–∑–Ω–∞—á–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø **Micro-segmentation**, –¥–µ –∫–æ–∂–µ–Ω —ñ–Ω—Å—Ç–∞–Ω—Å –∑–∞—Ö–∏—â–µ–Ω–∏–π –≤–ª–∞—Å–Ω–∏–º —Ñ–∞—î—Ä–≤–æ–ª–æ–º. –£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó Nautilus DevOps, –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è SG –∑–∞–ø–æ–±—ñ–≥–∞—î –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–º—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—é (Lateral Movement) –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—ñ–≤ —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ä–µ–∂—ñ.

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≤–∏—Ç—Ä–∞—Ç (FinOps):
- **Free Tier:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Security Groups —î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–º.
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è SG –∑–∞–º—ñ—Å—Ç—å —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–ª–∞—Ç–Ω–∏—Ö Third-party —Ñ–∞—î—Ä–≤–æ–ª—ñ–≤ –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –µ—Ç–∞–ø—ñ –∑–Ω–∏–∂—É—î –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –±–µ–∑–ø–µ–∫–∏.

### –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ –æ–±–ª–∞—Å—Ç—å:
- **–°–µ—Ä–µ–¥–æ–≤–∏—â–µ:** AWS Cloud / Default VPC.
- **–†—ñ–≤–µ–Ω—å:** Network Security (L4 Firewall).
- **–ï—Ç–∞–ø:** Infrastructure Hardening.

### –†–∏–∑–∏–∫–∏:
–í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É 22 (SSH) –¥–ª—è –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É (`0.0.0.0/0`) —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫ Brute-force –∞—Ç–∞–∫. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å SG –≤–∑–∞–≥–∞–ª—ñ –ø—Ä–∏–∑–≤–µ–ª–∞ –± –¥–æ –ø–æ–≤–Ω–æ—ó –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ—Å—É—Ä—Å—ñ–≤ —É –ø—É–±–ª—ñ—á–Ω—ñ–π –º–µ—Ä–µ–∂—ñ.

## –†–æ–∑–±—ñ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏: –ú—ñ–∫—Ä–æ—Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—è –∑ Security Groups

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è (Architecture)
–°—Ö–µ–º–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ñ–∞—î—Ä–≤–æ–ª–∞, —â–æ –∑–∞—Ö–∏—â–∞—î EC2 —ñ–Ω—Å—Ç–∞–Ω—Å.

![AWS Architecture Security Group Day 2](SecurityGroup.png)

### –ü–æ–∫—Ä–æ–∫–æ–≤–µ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –±–µ–∑–ø–µ–∫–∏
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ –∑ –æ–ø–∏—Å–æ–º –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –∞—É–¥–∏—Ç—É
aws ec2 create-security-group \
    --group-name datacenter-sg \
    --description "Security group for Nautilus App Servers" \
    --vpc-id vpc-xxxxxxxx
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Inbound Rules
–ú–∏ –¥–æ–∑–≤–æ–ª—è—î–º–æ —Ç—ñ–ª—å–∫–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫.
```bash
# –î–æ–∑–≤–æ–ª—è—î–º–æ HTTP –¥–ª—è –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É (Public Web)
aws ec2 authorize-security-group-ingress \
    --group-name datacenter-sg \
    --protocol tcp --port 80 --cidr 0.0.0.0/0

# –î–æ–∑–≤–æ–ª—è—î–º–æ SSH (–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó - –¥–ª—è –≤—Å—ñ—Ö, —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ - —Ç—ñ–ª—å–∫–∏ —Å–≤—ñ–π IP)
aws ec2 authorize-security-group-ingress \
    --group-name datacenter-sg \
    --protocol tcp --port 22 --cidr 0.0.0.0/0
```
**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ì—Ä—É–ø–∞ `datacenter-sg` —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∑ –¥–≤–æ–º–∞ –ø—Ä–∞–≤–∏–ª–∞–º–∏ Ingress.

## DevOps –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏
- **Infrastructure as Code (Terraform):** –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ä–µ—Å—É—Ä—Å `aws_security_group_rule` –¥–ª—è –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ —è–∫ –∫–æ–¥–æ–º.
- **NACL vs SG:** Security Groups –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ —Ä—ñ–≤–Ω—ñ —ñ–Ω—Å—Ç–∞–Ω—Å–∞ (Stateful), —Ç–æ–¥—ñ —è–∫ Network ACLs –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ —Ä—ñ–≤–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ (Stateless). –£ –∑—Ä—ñ–ª—ñ–π —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ñ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –æ–±–∏–¥–≤–∞ —Ä—ñ–≤–Ω—ñ –¥–ª—è –µ—Ñ–µ–∫—Ç—É "—à–∞—Ä–æ–≤–∞–Ω–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É".

## –ü–∞—Å—Ç–∫–∏ –¥–ª—è –¥–∂—É–Ω—ñ–≤ (–ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ ‚ö†Ô∏è)
- **Stateful confusion:** –î–∂—É–Ω–∏ —á–∞—Å—Ç–æ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ "–≤–∏—Ö—ñ–¥–Ω—ñ" –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ HTTP-–∑–∞–ø–∏—Ç. SG ‚Äî —Ü–µ **Stateful**, –≤–æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–≤–æ—Ä–æ—Ç–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫.
- **Any-Any-Any:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ SG –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ —Å–µ—Ä–≤–µ—Ä—ñ–≤ (Web, DB, Redis). –ö–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –º–∞—î –º–∞—Ç–∏ —Å–≤–æ—é –≥—Ä—É–ø—É (Least Privilege).
- **Port Conflict:** –ó–∞–±—É—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ—Ä—Ç, –Ω–∞ —è–∫–æ–º—É —Ä–µ–∞–ª—å–Ω–æ —Å–ª—É—Ö–∞—î –¥–æ–¥–∞—Ç–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 8080 –∑–∞–º—ñ—Å—Ç—å 80).

## –†–µ–∑—é–º–µ –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏ (Best Practices)
1. **Name tagging:** –ó–∞–≤–∂–¥–∏ –¥–æ–¥–∞–≤–∞–π—Ç–µ —Ç–µ–≥–∏ –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –ø–æ—à—É–∫—É.
2. **Targeting by SG:** –ö—Ä–∞—â–µ –¥–æ–∑–≤–æ–ª—è—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫ –∑ —ñ–Ω—à–æ—ó SG (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–¥–æ–∑–≤–æ–ª–∏—Ç–∏ SQL –∑ Web-SG"), –Ω—ñ–∂ –ø–æ IP-–¥—ñ–∞–ø–∞–∑–æ–Ω—É.
3. **Egress filtering:** –£ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –æ–±–º–µ–∂—É–π—Ç–µ —ñ –≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–∑–≤–æ–ª—è–π—Ç–µ –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –æ–Ω–æ–≤–ª–µ–Ω—å).
4. **Description is Key:** –ö–æ–∂–Ω–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—î –º–∞—Ç–∏ –æ–ø–∏—Å ‚Äî –Ω–∞–≤—ñ—â–æ –≤–æ–Ω–æ —Ç—É—Ç.
5. **White Hat Insight:** –í—ñ–¥–∫—Ä–∏—Ç–∏–π SSH –¥–ª—è —Å–≤—ñ—Ç—É ‚Äî —Ü–µ –º–∞–≥–Ω—ñ—Ç –¥–ª—è –±–æ—Ç—ñ–≤. –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Security Group Referencing` –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É. [–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ —É Deep Dive](./DEEP_DIVE_SECURITY_GROUPS.md).

---
**–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –¥–µ–Ω—å:** [–î–µ–Ω—å 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Key Pair](../day1/README.md)
**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** [–î–µ–Ω—å 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–º–µ—Ä–µ–∂—ñ (Subnet)](../day3/README.md) üöÄ
