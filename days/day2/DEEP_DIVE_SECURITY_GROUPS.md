# Deep Dive: AWS Security Groups üß†üõ°Ô∏è

## –©–æ —Ç–∞–∫–µ Security Group (SG)?
Security Group ‚Äî —Ü–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π —Ñ–∞—î—Ä–≤–æ–ª –Ω–∞ —Ä—ñ–≤–Ω—ñ **–º–µ—Ä–µ–∂–µ–≤–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (ENI)** —ñ–Ω—Å—Ç–∞–Ω—Å—É EC2. –í–æ–Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é—î, —è–∫–∏–π —Ç—Ä–∞—Ñ—ñ–∫ –º–æ–∂–µ –≤—Ö–æ–¥–∏—Ç–∏ (Inbound) —Ç–∞ –≤–∏—Ö–æ–¥–∏—Ç–∏ (Outbound).

## –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó

### 1. Stateful (–ó—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —Å—Ç–∞–Ω—É)
–¶–µ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ SG. 
- –Ø–∫—â–æ –≤–∏ –¥–æ–∑–≤–æ–ª—è—î—Ç–µ –≤—Ö—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Ç –Ω–∞ –ø–æ—Ä—Ç 80, SG "–∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î" —Ü–µ –∑'—î–¥–Ω–∞–Ω–Ω—è.
- –í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ –∫–ª—ñ—î–Ω—Ç–∞ –±—É–¥–µ –ø—Ä–æ–ø—É—â–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏—Ö—ñ–¥–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ (Outbound) —Ü–µ –∑–∞–±–æ—Ä–æ–Ω—è—é—Ç—å.
- –¶–µ —Å–ø—Ä–æ—â—É—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥—É–º–∞—Ç–∏ –ø—Ä–æ ephemeral ports –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

### 2. Implicit Deny (–ü—Ä–∏—Ö–æ–≤–∞–Ω–∞ –∑–∞–±–æ—Ä–æ–Ω–∞)
- –£—Å—ñ –ø—Ä–∞–≤–∏–ª–∞ –≤ SG –ø—Ä–∞—Ü—é—é—Ç—å —è–∫ **Allow** (–î–æ–∑–≤–æ–ª–∏—Ç–∏).
- –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–æ **Deny** (–ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏).
- –í—Å–µ, —â–æ –Ω–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ —è–≤–Ω–æ ‚Äî –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

### 3. –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è –∑–∞ ID
–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–Ω—É Security Group —è–∫ –¥–∂–µ—Ä–µ–ª–æ (source) –¥–ª—è —ñ–Ω—à–æ—ó. 
*–ü—Ä–∏–∫–ª–∞–¥:* "–î–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ –ë–î —Ç—ñ–ª—å–∫–∏ –∑ SG –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—ñ–≤". –¶–µ –Ω–∞–±–∞–≥–∞—Ç–æ –±–µ–∑–ø–µ—á–Ω—ñ—à–µ, –Ω—ñ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è IP-–∞–¥—Ä–µ—Å.

## SG vs Network ACL (NACL)

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Security Group | Network ACL |
| :--- | :--- | :--- |
| **–†—ñ–≤–µ–Ω—å** | Instance (ENI) | Subnet |
| **–¢–∏–ø** | Stateful | Stateless |
| **–ü—Ä–∞–≤–∏–ª–∞** | –¢—ñ–ª—å–∫–∏ Allow | Allow —Ç–∞ Deny |
| **–ü–æ—Ä—è–¥–æ–∫** | –ê–Ω–∞–ª—ñ–∑—É—é—Ç—å—Å—è –≤—Å—ñ –ø—Ä–∞–≤–∏–ª–∞ | –ê–Ω–∞–ª—ñ–∑—É—é—Ç—å—Å—è –∑–∞ –Ω–æ–º–µ—Ä–æ–º (ID) |
| **–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è** | –î–æ —ñ–Ω—Å—Ç–∞–Ω—Å—É | –î–æ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ |

## Best Practices –¥–ª—è Nautilus DevOps
1. **Never 0.0.0.0/0 for Management:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π "My IP" –¥–ª—è SSH/RDP.
2. **Micro-segmentation:** –°—Ç–≤–æ—Ä—é–π –æ–∫—Ä–µ–º—ñ SG –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ä–æ–ª—ñ (Web, App, DB).
3. **Description matter:** –ó–∞–≤–∂–¥–∏ –ø–∏—à–∏ –æ–ø–∏—Å –ø—Ä–∞–≤–∏–ª–∞, —â–æ–± —á–µ—Ä–µ–∑ –º—ñ—Å—è—Ü—å —Ä–æ–∑—É–º—ñ—Ç–∏ "–Ω–∞–≤—ñ—â–æ —Ü–µ–π –ø–æ—Ä—Ç –≤—ñ–¥–∫—Ä–∏—Ç–∏–π".
4. **Automation:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Terraform/AWS CLI, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (fat-finger errors).

---
*–¶–µ –∑–Ω–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–∂–µ —Ç–æ–±—ñ –±—É–¥—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É AWS Well-Architected Framework.*
